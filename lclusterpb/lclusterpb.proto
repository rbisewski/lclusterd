//
// File: lclusterpb.proto
//
// Description: prototype for remote process calls
//

syntax = "proto3";

package lclusterpb;

// RPC service definition
service Lclusterd {
    rpc StartJob  (StartJobRequest)  returns (StartJobResponse)  {}
    rpc CheckJob  (CheckJobRequest)  returns (CheckJobResponse)  {}
    rpc StopJob   (StopJobRequest)   returns (StopJobResponse)   {}
}

// Start Job Request definition
message StartJobRequest {

    // String representation of a POSIX command.
    string command = 1;
}

// Start Job *Response* definition
message StartJobResponse {

    // Process id of the job
    string uuid = 1;

    // Error string
    string error = 2;
}

// Check Job Request definition
message CheckJobRequest {

    // Uuid of the job
    string uuid = 1;
}

// Check Job *Response* definition
message CheckJobResponse {

    // Whether or not the job is currently active
    uint32 result = 1;

    // Error string
    string error = 2;
}

// Stop Job Request definition
message StopJobRequest {

    // Uuid of the job to be stopped
    string uuid = 1;
}

// Stop Job *Response* definition
message StopJobResponse {

    // Result boolean, whether or this was able to successfully stop a job.
    bool result = 1;

    // Error string, if any.
    string error = 2;
}
